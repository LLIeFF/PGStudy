# Postgres 16 на Rocky Linux (клон RedHat) из ДЗ №6
## Установочные действия
Скачаем файл demo-small-20170815.sql поуказанной ссылке и поместим его в домашнюю директорию
Подключимся к postgres:
```
psql -h localhost -U developer
```
Запустим скрипт прямо из файла
```
\i ~/demo-small-20170815.sql
```
База создана и наполнена
## Анализ данных и выбор таблицы для секционирования
Выполним запросы типа:
```
SELECT * FROM bookings LIMIT 20;
```
Видим, что это таблица фактов, и записи с опорой на дату (book_date). Поэтому полю можно секционироовать - разбивать на диапазоны.<br />
Определим граничные даты всей таблицы:
```
SELECT MIN(book_date), MAX(book_date), COUNT(*) 
FROM bookings;
          min           |          max           | count
------------------------+------------------------+--------
 2017-06-21 14:05:00+03 | 2017-08-15 18:00:00+03 | 262788
(1 row)
```
### Данные захватывают три месяца. Соответственно, целесообразно выбрать помесячное секционирование
## Скрипт секционирования и миграции данных приложен ниже
